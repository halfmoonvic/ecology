webpackJsonp([2],{"7U4g":function(a,e,t){"use strict";var r=t("XLwt"),n=(t.n(r),t("dddn")),i=t("jPma"),o=t.n(i),s=t("0v65"),u=t.n(s),l=t("3IrM"),f=t.n(l),c=t("GCH0");e.a={name:"fujian-weather-map",props:{className:{type:String,default:"weather-map"},weatherMapClick:{type:Function,default:function(a){}}},created:function(){function a(a){for(var e=0;e<a.data.length;e++){var r=a.data[e];t.realAreaData.push({name:r.REGIONNAME,value:r.AQI})}}function e(a){for(var e=0;e<a.data.length;e++){var r=a.data[e];t.realMarkData.push({name:r.POINTNAME,point:r.POINTCODE,watchTime:r.WQTIME,level:r.LEVELS,aqi:r.AQI,coord:[r.LONGITUDE,r.LATITUDE],type:i[r.LEVELS]})}}var t=this;t.weatherMap=new o.a.PolluteMap,t._windowResize=function(){t.weatherMap.resize()},window.addEventListener("resize",t._windowResize),t.realAreaData=[],t.realMarkData=[];var r=f.a,n=u.a;a(r),c.a.getCityAirmonitoring().then(function(e){if(e){a(e)}});var i={"优":0,"良":1,"轻度":2,"中度":3,"重度":4,"严重":5};e(n),c.a.getAirPointPosition().then(function(a){if(a){e(a)}})},data:function(){return{areaData:[],markData:[]}},mounted:function(){var a=this;a.weatherMap.init({dom:a.$el,symbol:"circle",symbolColors:["#00ffb4","#00ffff","#00bdff","#d9ff86","#ff9a49","#c91d60"],visualMapInRangeColor:["rgba(0,125,253,0.2)"],visualMapOutRangeColor:["rgba(0,125,253,0.2)"],symbolSize:8,symbolOffset:[0,0],aspectScale:1,geoName:"福建省",layoutCenter:["50%","48%"],shadowBlur:0,shadowColor:"rgba(0,123,243,0)",borderColor:"#007df3",borderSize:2,offSet:1,layerNumber:1}),a.areaData=a.realAreaData,a.markData=a.realMarkData,a._mapClick()},activated:function(){this.weatherMap.resize()},beforeDestroy:function(){var a=this;a.weatherMap.dispose(),window.removeEventListener("resize",a._windowResize)},methods:{_getAreaData:function(){var a=[];for(var e in n.a)"福建省"!==e&&a.push({name:e,value:Math.round(5e3*Math.random())});return a},_getMarkData:function(){for(var a=[],e=n.a["福建省"],t=0;t<e.features.length;t++){var r=e.features[t];a.push({name:r.properties.name.substring(0,2),coord:r.properties.cp,value:Math.round(5e3*Math.random()),type:Math.floor(5*Math.random())})}return a},upAreaDate:function(a,e){this.weatherMap.areaData=a},upMarkDate:function(a,e){this.weatherMap.markData=a},_mapClick:function(){var a=this;a.weatherMap._mapClick("click",a.weatherMapClick)},resize:function(){window.addEventListener("resize",this._windowResize)}},watch:{areaData:"upAreaDate",markData:"upMarkDate"}}},BNYQ:function(a,e,t){"use strict";var r=function(){var a=this,e=a.$createElement;return(a._self._c||e)("div",{class:a.className,staticStyle:{width:"100%",height:"100%"}})},n=[],i={render:r,staticRenderFns:n};e.a=i},vC1a:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("7U4g"),n=t("BNYQ"),i=t("VU/8"),o=i(r.a,n.a,!1,null,null,null);e.default=o.exports}});
//# sourceMappingURL=2.7f96fe1a88d96778ffec.js.map